<?xml version="1.0" encoding="UTF-8"?>
<!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<Snapshot name="standard-jetspeed2.xml"
    xmlns="http://portals.apache.org/jetspeed"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<softwareVersion value="1"/>
	<softwareSubVersion value="0"/>
	<default_rule value="j2"/>
	<encryption value=""/>
	<MimeTypes>
		<MimeType>application/xhtml+xml</MimeType>
		<MimeType>text/html</MimeType>
		<MimeType>text/vnd.wap.wml</MimeType>
		<MimeType>text/vxml</MimeType>
		<MimeType>text/xhtml</MimeType>
		<MimeType>text/xml</MimeType>
	</MimeTypes>
	<MediaTypes>
		<MediaType name="html">
			<charcterSet value="UTF-8"/>
			<title value="HTML"/>
			<description value="Rich HTML for HTML 4.0 compliants browsers"/>
			<capabilities></capabilities>
			<mimeTypes>text/html</mimeTypes>
		</MediaType>
		<MediaType name="vxml">
			<charcterSet value="UTF-8"/>
			<title value="VoiceXML"/>
			<description value="Format suitable for use with an audio VoiceXML server"/>
			<capabilities></capabilities>
			<mimeTypes>text/vxml</mimeTypes>
		</MediaType>
		<MediaType name="wml">
			<charcterSet value="UTF-8"/>
			<title value="WML"/>
			<description value="Format for mobile phones and PDAs compatible with WML 1.1"/>
			<capabilities></capabilities>
			<mimeTypes>text/vnd.wap.wml</mimeTypes>
		</MediaType>
		<MediaType name="xhtml-basic">
			<charcterSet value="UTF-8"/>
			<title value="XHTML"/>
			<description value="XHTML Basic"/>
			<capabilities></capabilities>
			<mimeTypes>application/xhtml+xml</mimeTypes>
		</MediaType>
		<MediaType name="xml">
			<charcterSet value=""/>
			<title value="XML"/>
			<description value="XML 1.0"/>
			<capabilities></capabilities>
			<mimeTypes>text/xml</mimeTypes>
		</MediaType>
		<MediaType name="html-basic">
			<charcterSet value="UTF-8"/>
			<title value="HTML-BASIC"/>
			<description value="Simple HTML for Handheld PC browsers such as Pocket IE"/>
			<capabilities></capabilities>
			<mimeTypes>text/html</mimeTypes>
		</MediaType>
	</MediaTypes>
	<Capabilities>
		<Capability>HTML_3_2</Capability>
		<Capability>HTML_4_0</Capability>
		<Capability>HTML_ACTIVEX</Capability>
		<Capability>HTML_CSS1</Capability>
		<Capability>HTML_CSS2</Capability>
		<Capability>HTML_CSSP</Capability>
		<Capability>HTML_DOM</Capability>
		<Capability>HTML_DOM_1</Capability>
		<Capability>HTML_DOM_2</Capability>
		<Capability>HTML_DOM_IE</Capability>
		<Capability>HTML_DOM_NS4</Capability>
		<Capability>HTML_FORM</Capability>
		<Capability>HTML_FRAME</Capability>
		<Capability>HTML_IFRAME</Capability>
		<Capability>HTML_IMAGE</Capability>
		<Capability>HTML_JAVA</Capability>
		<Capability>HTML_JAVA1_0</Capability>
		<Capability>HTML_JAVA1_1</Capability>
		<Capability>HTML_JAVA1_2</Capability>
		<Capability>HTML_JAVASCRIPT</Capability>
		<Capability>HTML_JAVASCRIPT_1_0</Capability>
		<Capability>HTML_JAVASCRIPT_1_1</Capability>
		<Capability>HTML_JAVASCRIPT_1_2</Capability>
		<Capability>HTML_JAVA_JRE</Capability>
		<Capability>HTML_JSCRIPT</Capability>
		<Capability>HTML_JSCRIPT1_0</Capability>
		<Capability>HTML_JSCRIPT1_1</Capability>
		<Capability>HTML_JSCRIPT1_2</Capability>
		<Capability>HTML_LAYER</Capability>
		<Capability>HTML_NESTED_TABLE</Capability>
		<Capability>HTML_PLUGIN</Capability>
		<Capability>HTML_TABLE</Capability>
		<Capability>HTML_XML</Capability>
		<Capability>HTML_XSL</Capability>
		<Capability>HTTP_1_1</Capability>
		<Capability>HTTP_COOKIE</Capability>
		<Capability>WML_1_0</Capability>
		<Capability>WML_1_1</Capability>
		<Capability>WML_TABLE</Capability>
		<Capability>XML_XINCLUDE</Capability>
		<Capability>XML_XPATH</Capability>
		<Capability>XML_XSLT</Capability>
	</Capabilities>
	<Clients>
		<Client name="ie5mac" evalOrder="1" preferredMimeTypeID="text/html">
			<userAgentPattern value=".*MSIE 5.*Mac.*"/>
			<version value="5.*"/>
			<model value="None"/>
			<manufacturer value="Microsoft"/>
			<capabilities>HTML_3_2,HTML_JAVA,HTML_JAVASCRIPT,HTML_TABLE,HTML_FORM,HTML_FRAME,HTML_IMAGE,HTML_PLUGIN,HTML_CSS1,HTML_DOM_NS4,HTTP_COOKIE</capabilities>
			<mimeTypes>text/html</mimeTypes>
		</Client>
		<Client name="safari" evalOrder="2" preferredMimeTypeID="text/html">
			<userAgentPattern value=".*Mac.*Safari.*"/>
			<version value="5.*"/>
			<model value="None"/>
			<manufacturer value="Apple"/>
			<capabilities>HTML_3_2,HTML_JAVA,HTML_JAVASCRIPT,HTML_TABLE,HTML_NESTED_TABLE,HTML_FORM,HTML_FRAME,HTML_IMAGE,HTML_ACTIVEX,HTML_CSS1,HTML_CSS2,HTML_CSSP,HTML_IFRAME,HTML_DOM_IE,HTTP_COOKIE</capabilities>
			<mimeTypes>text/html,text/xml,text/xhtml</mimeTypes>
		</Client>
		<Client name="ie6" evalOrder="3" preferredMimeTypeID="text/html">
			<userAgentPattern value=".*MSIE 6.*"/>
			<version value="6.0"/>
			<model value="None"/>
			<manufacturer value="Microsoft"/>
			<capabilities>HTML_3_2,HTML_JAVA,HTML_JAVASCRIPT,HTML_TABLE,HTML_NESTED_TABLE,HTML_FORM,HTML_FRAME,HTML_IMAGE,HTML_ACTIVEX,HTML_CSS1,HTML_CSS2,HTML_CSSP,HTML_IFRAME,HTML_DOM_IE,HTTP_COOKIE</capabilities>
			<mimeTypes>text/html,text/xml,text/xhtml</mimeTypes>
		</Client>
		<Client name="ie5" evalOrder="4" preferredMimeTypeID="text/html">
			<userAgentPattern value=".*MSIE 5.*"/>
			<version value="5.5"/>
			<model value="None"/>
			<manufacturer value="Microsoft"/>
			<capabilities>HTML_3_2,HTML_JAVA,HTML_JAVASCRIPT,HTML_TABLE,HTML_NESTED_TABLE,HTML_FORM,HTML_FRAME,HTML_IMAGE,HTML_ACTIVEX,HTML_CSS1,HTML_CSS2,HTML_CSSP,HTML_IFRAME,HTML_DOM_IE,HTTP_COOKIE</capabilities>
			<mimeTypes>text/html,text/xml</mimeTypes>
		</Client>
		<Client name="ns4" evalOrder="5" preferredMimeTypeID="text/html">
			<userAgentPattern value=".*Mozilla/4.*"/>
			<version value="4.75"/>
			<model value="None"/>
			<manufacturer value="Netscape"/>
			<capabilities>HTML_3_2,HTML_JAVA,HTML_JAVASCRIPT,HTML_TABLE,HTML_FORM,HTML_FRAME,HTML_IMAGE,HTML_CSS1,HTML_LAYER,HTML_PLUGIN,HTML_DOM_NS4,HTTP_COOKIE</capabilities>
			<mimeTypes>text/html</mimeTypes>
		</Client>
		<Client name="mozilla" evalOrder="6" preferredMimeTypeID="text/html">
			<userAgentPattern value=".*Mozilla/5.*"/>
			<version value="1.x"/>
			<model value="Mozilla"/>
			<manufacturer value="Mozilla"/>
			<capabilities>HTML_3_2,HTML_4_0,HTML_JAVA,HTML_JAVA_JRE,HTML_JAVASCRIPT,HTML_TABLE,HTML_NESTED_TABLE,HTML_FORM,HTML_FRAME,HTML_IFRAME,HTML_IMAGE,HTML_CSS1,HTML_CSS2,HTML_CSSP,HTML_DOM_1,HTML_PLUGIN,HTTP_COOKIE</capabilities>
			<mimeTypes>text/html,text/xhtml,text/xml</mimeTypes>
		</Client>
		<Client name="lynx" evalOrder="7" preferredMimeTypeID="text/html">
			<userAgentPattern value="Lynx.*"/>
			<version value=""/>
			<model value="None"/>
			<manufacturer value="GNU"/>
			<capabilities>HTML_TABLE,HTML_NESTED_TABLE,HTML_FORM,HTML_FRAME,HTTP_COOKIE</capabilities>
			<mimeTypes>text/html</mimeTypes>
		</Client>
		<Client name="nokia_generic" evalOrder="8" preferredMimeTypeID="text/vnd.wap.wml">
			<userAgentPattern value="Nokia.*"/>
			<version value=""/>
			<model value="Generic"/>
			<manufacturer value="Nokia"/>
			<capabilities></capabilities>
			<mimeTypes>text/vnd.wap.wml</mimeTypes>
		</Client>
		<Client name="xhtml-basic" evalOrder="9" preferredMimeTypeID="application/xhtml+xml">
			<userAgentPattern value="DoCoMo/2.0.*|KDDI-.*UP.Browser.*|J-PHONE/5.0.*|Vodafone/1.0/.*"/>
			<version value=""/>
			<model value="Generic"/>
			<manufacturer value="WAP"/>
			<capabilities></capabilities>
			<mimeTypes>application/xhtml+xml</mimeTypes>
		</Client>
		<Client name="up" evalOrder="10" preferredMimeTypeID="text/vnd.wap.wml">
			<userAgentPattern value="UP.*|.*UP.Browser.*"/>
			<version value=""/>
			<model value="Generic"/>
			<manufacturer value="United Planet"/>
			<capabilities></capabilities>
			<mimeTypes>text/vnd.wap.wml</mimeTypes>
		</Client>
		<Client name="sonyericsson" evalOrder="11" preferredMimeTypeID="text/vnd.wap.wml">
			<userAgentPattern value="Ercis.*|SonyE.*"/>
			<version value=""/>
			<model value="Generic"/>
			<manufacturer value="SonyEricsson"/>
			<capabilities></capabilities>
			<mimeTypes>text/vnd.wap.wml</mimeTypes>
		</Client>
		<Client name="wapalizer" evalOrder="12" preferredMimeTypeID="text/vnd.wap.wml">
			<userAgentPattern value="Wapalizer.*"/>
			<version value=""/>
			<model value="Generic"/>
			<manufacturer value="Wapalizer"/>
			<capabilities></capabilities>
			<mimeTypes>text/vnd.wap.wml</mimeTypes>
		</Client>
		<Client name="klondike" evalOrder="13" preferredMimeTypeID="text/vnd.wap.wml">
			<userAgentPattern value="Klondike.*"/>
			<version value=""/>
			<model value="Generic"/>
			<manufacturer value="Klondike"/>
			<capabilities></capabilities>
			<mimeTypes>text/vnd.wap.wml</mimeTypes>
		</Client>
		<Client name="wml_generic" evalOrder="14" preferredMimeTypeID="text/vnd.wap.wml">
			<userAgentPattern value=".*WML.*|.*WAP.*|.*Wap.*|.*wml.*"/>
			<version value=""/>
			<model value="Generic"/>
			<manufacturer value="Generic"/>
			<capabilities></capabilities>
			<mimeTypes>text/vnd.wap.wml</mimeTypes>
		</Client>
		<Client name="vxml_generic" evalOrder="15" preferredMimeTypeID="text/vxml">
			<userAgentPattern value=".*VoiceXML.*"/>
			<version value=""/>
			<model value="Generic"/>
			<manufacturer value="Generic"/>
			<capabilities></capabilities>
			<mimeTypes>text/vxml</mimeTypes>
		</Client>
		<Client name="nuance" evalOrder="16" preferredMimeTypeID="text/vxml">
			<userAgentPattern value="Nuance.*"/>
			<version value=""/>
			<model value="Generic"/>
			<manufacturer value="Nuance"/>
			<capabilities></capabilities>
			<mimeTypes>text/vxml</mimeTypes>
		</Client>
		<Client name="agentxml" evalOrder="17" preferredMimeTypeID="text/xml">
			<userAgentPattern value="agentxml/1.0.*"/>
			<version value=""/>
			<model value="Generic"/>
			<manufacturer value="Unknown"/>
			<capabilities></capabilities>
			<mimeTypes>text/xml</mimeTypes>
		</Client>
		<Client name="opera7" evalOrder="18" preferredMimeTypeID="text/html">
			<userAgentPattern value=".*Opera/7.*"/>
			<version value="7.x"/>
			<model value="Opera7"/>
			<manufacturer value="Opera"/>
			<capabilities>HTML_3_2,HTML_4_0,HTML_TABLE,HTML_JAVA,HTML_JAVA_JRE,HTML_JAVASCRIPT,HTML_NESTED_TABLE,HTML_FORM,HTML_FRAME,HTML_IMAGE,HTML_IFRAME,HTML_CSS1,HTML_CSS2,HTML_CSSP,HTML_DOM_1,HTTP_COOKIE,HTML_PLUGIN</capabilities>
			<mimeTypes>text/html,text/xml,text/xhtml</mimeTypes>
		</Client>
		<Client name="ie4ppc" evalOrder="4" preferredMimeTypeID="text/html">
			<userAgentPattern value=".*MSIE 4.*Windows CE.*"/>
			<version value="4.01"/>
			<model value="None"/>
			<manufacturer value="Microsoft"/>
			<capabilities>HTML_3_2,HTML_TABLE,HTML_FORM,HTML_IMAGE,HTML_CSS1,HTTP_COOKIE</capabilities>
			<mimeTypes>text/html</mimeTypes>
		</Client>
	</Clients>
	<Roles>
		<Role>admin</Role>
		<Role>guest</Role>
		<Role>user</Role>
		<Role>dev</Role>
		<Role>devmgr</Role>
	</Roles>
	<Groups>
	</Groups>
	<Users>
		<User name="admin">
			<credentials password="admin" enabled="TRUE" requiresUpdate="TRUE"/>
			<roles>user,admin</roles>
			<groups></groups>
			<userinfo>
				<preference>
					<name value="user.name.given"/>
					<value value="System"/>
				</preference>
				<preference>
					<name value="user.name.family"/>
					<value value="Administrator"/>
				</preference>
			</userinfo>
			<Rules/>
		</User>
		<User name="guest">
			<Null/>
			<roles>guest</roles>
			<groups></groups>
			<preferences/>
			<userinfo/>
			<Rules>
				<Rule locator="page" rule="j2"/>
			</Rules>
		</User>
		<User name="devmgr">
			<credentials password="devmgr" enabled="TRUE"/>
			<roles>user,dev,devmgr</roles>
			<groups></groups>
			<userinfo>
				<preference>
					<name value="user.name.given"/>
					<value value="Dev"/>
				</preference>
				<preference>
					<name value="user.name.family"/>
					<value value="Manager"/>
				</preference>
			</userinfo>
			<Rules>
			  <Rule locator="page" rule="user-role-fallback"/>
			</Rules>
		</User>		
	</Users>
	<Permissions>
		<Permission type="portal" resource="j2-admin::*" actions="view, edit">
			<roles>admin</roles>
			<groups></groups>
			<users></users>
		</Permission>
		<Permission type="portal" resource="jetspeed-layouts::*" actions="view, edit">
			<roles>user</roles>
			<groups></groups>
			<users></users>
		</Permission>
	</Permissions>
	<ProfilingRules>
		<ProfilingRule id="group-fallback" standardRule="false">
			<description value="A role based fallback algorithm based on Jetspeed-1 group-based fallback"/>
			<Criteria>
				<Criterion name="group">
					<type value="group"/>
					<fallBackOrder value="0"/>
					<fallBackType value="2"/>
				</Criterion>
				<Criterion name="page">
					<type value="path.session"/>
					<value value="default-page"/>
					<fallBackOrder value="1"/>
					<fallBackType value="0"/>
				</Criterion>
			</Criteria>
		</ProfilingRule>
		<ProfilingRule id="ip-address" standardRule="true">
			<description value="Resolves pages based on the clients remote IP address."/>
			<Criteria>
				<Criterion name="ip">
					<type value="ip"/>
					<fallBackOrder value="0"/>
					<fallBackType value="0"/>
				</Criterion>
			</Criteria>
		</ProfilingRule>
		<ProfilingRule id="j1" standardRule="true">
			<description value="The default profiling rule following the Jetspeed-1 hard-coded profiler fallback algorithm."/>
			<Criteria>
				<Criterion name="page">
					<type value="path.session"/>
					<value value="default-page"/>
					<fallBackOrder value="0"/>
					<fallBackType value="0"/>
				</Criterion>
				<Criterion name="user">
					<type value="group.role.user"/>
					<fallBackOrder value="1"/>
					<fallBackType value="0"/>
				</Criterion>
				<Criterion name="mediatype">
					<type value="mediatype"/>
					<fallBackOrder value="2"/>
					<fallBackType value="1"/>
				</Criterion>
				<Criterion name="language">
					<type value="language"/>
					<fallBackOrder value="3"/>
					<fallBackType value="1"/>
				</Criterion>
				<Criterion name="country">
					<type value="country"/>
					<fallBackOrder value="4"/>
					<fallBackType value="1"/>
				</Criterion>
			</Criteria>
		</ProfilingRule>
		<ProfilingRule id="j2" standardRule="true">
			<description value="The default profiling rule for users and mediatype minus language and country."/>
			<Criteria>
				<Criterion name="user">
					<type value="group.role.user"/>
					<fallBackOrder value="1"/>
					<fallBackType value="0"/>
				</Criterion>
				<Criterion name="mediatype">
					<type value="mediatype"/>
					<fallBackOrder value="2"/>
					<fallBackType value="1"/>
				</Criterion>
				<Criterion name="page">
					<type value="path.session"/>
					<value value="default-page"/>
					<fallBackOrder value="0"/>
					<fallBackType value="0"/>
				</Criterion>
			</Criteria>
		</ProfilingRule>
		<ProfilingRule id="path" standardRule="true">
			<description value="use a path to locate."/>
			<Criteria>
				<Criterion name="path">
					<type value="path"/>
					<value value="/"/>
					<fallBackOrder value="0"/>
					<fallBackType value="0"/>
				</Criterion>
			</Criteria>
		</ProfilingRule>
		<ProfilingRule id="role-fallback" standardRule="false">
			<description value="A role based fallback algorithm based on Jetspeed-1 role-based fallback"/>
			<Criteria>
				<Criterion name="role">
					<type value="role"/>
					<fallBackOrder value="0"/>
					<fallBackType value="2"/>
				</Criterion>
				<Criterion name="page">
					<type value="path.session"/>
					<value value="default-page"/>
					<fallBackOrder value="1"/>
					<fallBackType value="0"/>
				</Criterion>
			</Criteria>
		</ProfilingRule>
		<ProfilingRule id="role-group" standardRule="false">
			<description value="A role based fallback algorithm that searches all groups and roles for a user"/>
			<Criteria>
				<Criterion name="role">
					<type value="role"/>
					<fallBackOrder value="0"/>
					<fallBackType value="2"/>
				</Criterion>
				<Criterion name="navigation">
					<type value="navigation"/>
					<value value="/"/>
					<fallBackOrder value="1"/>
					<fallBackType value="2"/>
				</Criterion>
				<Criterion name="group">
					<type value="group"/>
					<fallBackOrder value="2"/>
					<fallBackType value="2"/>
				</Criterion>
			</Criteria>
		</ProfilingRule>
		<ProfilingRule id="security" standardRule="true">
			<description value="The security profiling rule needed for credential change requirements."/>
			<Criteria>
				<Criterion name="page">
					<type value="hard.coded"/>
					<value value="/my-account.psml"/>
					<fallBackOrder value="0"/>
					<fallBackType value="0"/>
				</Criterion>
			</Criteria>
		</ProfilingRule>
		<ProfilingRule id="user-role-fallback" standardRule="false">
			<description value="A role based fallback algorithm based on Jetspeed-1 role-based fallback"/>
			<Criteria>
				<Criterion name="user">
					<type value="user"/>
					<fallBackOrder value="0"/>
					<fallBackType value="2"/>
				</Criterion>
				<Criterion name="navigation">
					<type value="navigation"/>
					<value value="/"/>
					<fallBackOrder value="1"/>
					<fallBackType value="2"/>
				</Criterion>
				<Criterion name="role">
					<type value="role"/>
					<fallBackOrder value="2"/>
					<fallBackType value="2"/>
				</Criterion>
				<Criterion name="page">
					<type value="path.session"/>
					<value value="default-page"/>
					<fallBackOrder value="3"/>
					<fallBackType value="1"/>
				</Criterion>
			</Criteria>
		</ProfilingRule>
		<ProfilingRule id="user-rolecombo-fallback" standardRule="false">
			<description value="A role based fallback algorithm based on Jetspeed-1 role-based fallback"/>
			<Criteria>
				<Criterion name="user">
					<type value="user"/>
					<fallBackOrder value="0"/>
					<fallBackType value="2"/>
				</Criterion>
				<Criterion name="navigation">
					<type value="navigation"/>
					<value value="/"/>
					<fallBackOrder value="1"/>
					<fallBackType value="2"/>
				</Criterion>
				<Criterion name="role">
					<type value="rolecombo"/>
					<fallBackOrder value="2"/>
					<fallBackType value="2"/>
				</Criterion>
				<Criterion name="page">
					<type value="path.session"/>
					<value value="default-page"/>
					<fallBackOrder value="3"/>
					<fallBackType value="1"/>
				</Criterion>
			</Criteria>
		</ProfilingRule>
	</ProfilingRules>
</Snapshot>
